<ion-view ng-controller="DetailCtrl">
    <ion-header-bar class="bar bar-header bar-positive"><a class="button button-icon ion-ios-arrow-back ellipsis"
            ui-sref="tabs.home">{{" " + shareData.encode(shareData.detail, shareData.term)}}
            <!--
            {{shareData.local[shareData.lang]['back']}}
            --></a></ion-header-bar>
    <ion-content class="padding">
        <div class="padding">
            <h4
                ng-bind-html="shareData.encode(shareData.detail, shareData.term) | highlight:shareData.hiraToKana(shareData.search)">
            </h4>
        </div>
        <div class="expandable-content padding-top" ng-repeat="key in shareData.headerKeys"
            ng-if="key !== shareData.term && shareData.drugs.indexOf(key) < 0 && shareData.detail[key]">
            <div ng-if="shareData.headerValues[$index] !== '[LOOKUP]'"
                ng-class="shareData.headerPref(shareData.headerValues[$index])[1]">
                <div class="padding" ng-class="shareData.headerPref(shareData.headerValues[$index])[1]"
                    ng-if="!shareData.headerPref(shareData.headerValues[$index])[2]"><span
                        class="catalogue-menu">{{shareData.headerPref(shareData.headerValues[$index])[0]}}</span>
                    <p class="catalogue-content"
                        ng-bind-html="shareData.encode(shareData.detail, key)| highlight:shareData.hiraToKana(shareData.search)">
                    </p>
                </div>
                <div class="grades" ng-if="shareData.headerPref(shareData.headerValues[$index])[2]">
                    <div class="row" style="padding:8px 4px 16px 8px">
                        <div class="col">
                            <div class="catalogue-menu-bar">{{shareData.headerPref(shareData.headerValues[$index])[0]}}
                            </div>
                            <div class="catalogue-content-bar"
                                ng-bind-html="shareData.encode(shareData.detail, key)| highlight:shareData.hiraToKana(shareData.search)">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="expandable-content padding-top" ng-repeat="drug in shareData.drugList"
            ng-if="shareData.drugList.length > 0">
            <div class="title catalogue-menu-bar" ng-bind-html="shareData.encode(drug, null)"></div>
            <div class="drug-item">
                <div class="catalogue-content-bar padding"
                    ng-class="shareData.headerPref(shareData.headerValues1[$index])[1]"
                    ng-repeat="key1 in shareData.headerKeys1"><span
                        class="catalogue-menu">{{shareData.headerPref(shareData.headerValues1[$index])[0]}}</span>
                    <p class="catalogue-content"
                        ng-bind-html="shareData.encode(shareData.getDrugInfos1(drug)[key1], null) | highlight:shareData.hiraToKana(shareData.search)">
                    </p>
                </div>
            </div>
        </div>
        <ion-item ng-if="shareData.drugList.length > 0" class="padding" style="margin:16px 0;background-color:#ffe6ea">
            <textarea ng-bind="shareData.cautionList" style="width:100%;height:200px;background-color:#ffe6ea"
                placeholder="Enter more information here..."></textarea></ion-item>
    </ion-content>
</ion-view>